```html
{% extends "base.html" %}

{% block title %}Login Test - Kryptopedia{% endblock %}

{% block content %}
<h1>Login Test Page</h1>

<div id="login-status">
    <p>Checking login status...</p>
</div>

<div id="auth-required" class="auth-required hidden">
    <h2>Content Only Visible When Logged In</h2>
    <p>You are currently logged in. This content is only visible to authenticated users.</p>
    
    <div>
        <h3>User Information</h3>
        <pre id="user-info">Loading user info...</pre>
    </div>
    
    <button id="logout-button" class="primary-button">Logout</button>
</div>

<div id="non-auth-content" class="non-auth-only">
    <h2>Login Required</h2>
    <p>You are not logged in. Please login to see the restricted content.</p>
    <button id="login-button" class="primary-button">Login</button>
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Check login status first
    checkLoginStatus();
    
    // Add event listener for login button
    document.getElementById('login-button').addEventListener('click', function() {
        const loginModal = document.getElementById('login-modal');
        if (loginModal) loginModal.style.display = 'block';
    });
    
    // Add event listener for logout button
    document.getElementById('logout-button').addEventListener('click', function() {
        logout();
    });
});

function checkLoginStatus() {
    const token = localStorage.getItem('token');
    const loginStatus = document.getElementById('login-status');
    
    if (token) {
        // User is logged in
        loginStatus.innerHTML = '<p class="success">You are currently logged in.</p>';
        
        // Show authenticated content
        document.getElementById('auth-required').classList.remove('hidden');
        document.getElementById('non-auth-content').classList.add('hidden');
        
        // Fetch user info
        fetchUserInfo();
    } else {
        // User is not logged in
        loginStatus.innerHTML = '<p class="warning">You are not logged in.</p>';
        
        // Show non-authenticated content
        document.getElementById('auth-required').classList.add('hidden');
        document.getElementById('non-auth-content').classList.remove('hidden');
    }
}

function fetchUserInfo() {
    const token = localStorage.getItem('token');
    if (!token) return;
    
    fetch('/api/auth/me', {
        headers: {
            'Authorization': `Bearer ${token}`
        }
    })
    .then(response => {
        if (response.status === 401) {
            // Token expired or invalid
            localStorage.removeItem('token');
            checkLoginStatus();
            throw new Error('Unauthorized');
        }
        return response.json();
    })
    .then(data => {
        document.getElementById('user-info').textContent = JSON.stringify(data, null, 2);
    })
    .catch(error => {
        console.error('Error fetching user info:', error);
        document.getElementById('user-info').textContent = 'Error fetching user information';
    });
}

function logout() {
    localStorage.removeItem('token');
    alert('You have been logged out successfully');
    checkLoginStatus();
}
</script>
<style>
#login-status {
    padding: 10px;
    margin-bottom: 20px;
    border-radius: 4px;
}

.success {
    color: green;
    font-weight: bold;
}

.warning {
    color: orange;
    font-weight: bold;
}

#user-info {
    background-color: #f5f5f5;
    padding: 10px;
    border-radius: 4px;
    white-space: pre-wrap;
    margin-bottom: 20px;
}

.hidden {
    display: none;
}
</style>
{% endblock %}
```
